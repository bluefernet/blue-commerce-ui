<html>

<head>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
</head>
<div>
    <h1>
        BlueCommerce
    </h1>
</div>
<div>
    <button onclick="getProdotti()">
        PRODOTTI
    </button>
    <div class="panel" id="getProducts">

    </div>
    <button onclick="getOrdini()">
        ORDINI
    </button>
    <div class="panel" id="getOrders">

    </div>
</div>

</html>

<script>
    function getProdotti() {
        let response = getRequest('https://blue-commerce-service.now.sh/v1/products')
        console.log(response)
        let products = response.products
        console.log(products)
        for (let i = 0; i < products.length; i++) {
            const product = products[i];
            console.log(product)
        }
    }

    function getOrdini() {
        let response = getRequest('https://blue-commerce-service.now.sh/v1/orders')
        console.log(response)
        let orders = response.orders
        console.log(orders)
        for (let i = 0; i < orders.length; i++) {
            const order = orders[i];
            console.log(order)
        }
    }

    function getRequest(url) {
        var resultElement = document.getElementById('getProducts');
        resultElement.innerHTML = '';
        let responseJSON;
        axios.get(url)
            .then(function (response) {
                //resultElement.innerHTML = generateSuccessHTMLOutput(response);
                responseJSON = JSON.parse(JSON.stringify(response.data))
            })
            .catch(function (error) {
                //resultElement.innerHTML = generateErrorHTMLOutput(error);
                alert('error ' + error)
            });
        console.log('response ' + responseJSON)
        return responseJSON
    }

</script>